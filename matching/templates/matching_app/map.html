<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Matching Map</title>
    {% load leaflet_tags %}
    {% leaflet_js %}
    {% leaflet_css %}
</head>
<body>
    <h1>Matching Map</h1>
    <div id="map" style="height: 400px;"></div>
    <script>
        function initMap() {
            var map = L.map('map').setView([{{ center_lat }}, {{ center_lng }}], 13); // Set your center coordinates and zoom level

            // Add a tile layer (you can use other tile layers too)
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            // Add markers for participant locations
            {% for participant in participants %}
                L.marker([{{ participant.lat }}, {{ participant.lng }}])
                    .addTo(map)
                    .bindPopup("Participant: {{ participant.name }}<br>Location: [{{ participant.lat }}, {{ participant.lng }}]");
            {% endfor %}
        }

        // Initialize the map when the page is loaded
        window.addEventListener('DOMContentLoaded', initMap);
    </script>
</body>
</html>
